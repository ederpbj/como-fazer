<%- include('../header') %>

<a href="/categorias/nova" class="btn btn-light">Nova categoria</a> <br />
<a href="/publicacoes/nova" class="btn btn-light">Nova Publicação</a> <br />

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">Categoria</th>
      <th scope="col">Ações</th>
    </tr>
  </thead>
  <tbody>
    <% categorias.forEach(categoria => { %>
    <tr>
      <td>
        <a href="/publicacoes/categoria/<%= categoria.id %>">
          <%= categoria.categoria %>
        </a>
      </td>
      <td>
        <a href="/categorias/editar/<%= categoria.id %>">Editar</a>
        <!-- Botão para acionar modal -->
        <a
          href="/categorias/excluir/<%= categoria.id %>"
          data-toggle="modal"
          data-target="#modalExemplo"
          >Excluir</a
        >

        <!-- Modal -->
        <div
          class="modal fade"
          id="modalExemplo"
          tabindex="-1"
          role="dialog"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                  Excluir categoria
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Fechar"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                Realmente deseja excluir esta cátegoria e suas publicações?
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Fechar
                </button>
                <a
                  href="/categorias/excluir/<%= categoria.id %> "
                  class="btn btn-primary"
                  >Excluir</a
                >
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>

<%- include('../footer') %>
